(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a.p+"static/media/never_enough_edit.28e1b3ec.wav"},28:function(e,t,a){e.exports=a.p+"static/media/131711__oldedgar__aaron-helm.ce0cf28e.wav"},33:function(e,t,a){e.exports=a(34)},34:function(e,t,a){"use strict";a.r(t);var s=a(20),n=a(21),i=a(23),r=a(22),o=a(24),l=a(0),c=a.n(l),u=a(25),p=a.n(u),h=(a(42),a(31)),d=a(26),m=a.n(d),g=a(27),y=a.n(g),E=a(28),v=a.n(E),f=a(8),k=a(50),b=a(10),S=a(30),x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={opacity:1,x:window.innerWidth/2,y:window.innerHeight/2},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this,t=null;return"adder"===this.props.type?t="+":"subtracter"===this.props.type&&(t="-"),c.a.createElement(h.a.div,{class:"baseCanvasElement "+this.props.type,x:this.state.x,y:this.state.y,drag:!0,initial:{opacity:1},animate:{opacity:!0===this.props.dead?0:this.state.opacity},transition:{delay:!0===this.props.dead?this.props.delay:0},id:this.props.type+this.props.index.toString(),key:this.state,dragMomentum:!1,whileHover:{cursor:"grabbing"},onPanEnd:function(t,a){a.point.x<=250?e.setState({opacity:0}):e.setState({x:a.point.x,y:a.point.y})}},t)}}]),t}(c.a.Component),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={squares:{},filtered_squares:{},names:[],lives:[],x_locations:[],y_locations:[],balls:[],inputEnergies:[1,1,1],targetTimeSpends:[2,1,2],targetExitEnergies:[1,2,1]},a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"addSwitch",value:function(){var e=this.state.squares,t=Object.keys(e).length;e["switch"+t.toString()]=c.a.createElement(x,{type:"switch",index:t,dead:!1}),this.setState({squares:e})}},{key:"addPauser",value:function(){var e=this.state.squares,t=Object.keys(e).length;e["pauser"+t.toString()]=c.a.createElement(x,{type:"pauser",index:t,dead:!1}),this.setState({squares:e})}},{key:"addSkipper",value:function(){var e=this.state.squares,t=Object.keys(e).length;e["skipper"+t.toString()]=c.a.createElement(x,{type:"skipper",index:t,dead:!1}),this.setState({squares:e})}},{key:"addBacker",value:function(){var e=this.state.squares,t=Object.keys(e).length;e["back_passer"+t.toString()]=c.a.createElement(x,{type:"back_passer",index:t,dead:!1}),this.setState({squares:e})}},{key:"addBlanker",value:function(){var e=this.state.squares,t=Object.keys(e).length;e["blanker"+t.toString()]=c.a.createElement(x,{type:"blanker",index:t,dead:!1}),this.setState({squares:e})}},{key:"addPlus",value:function(){var e=this.state.squares,t=Object.keys(e).length;e["adder"+t.toString()]=c.a.createElement(x,{type:"adder",index:t,dead:!1}),this.setState({squares:e})}},{key:"addMinus",value:function(){var e=this.state.squares,t=Object.keys(e).length;e["subtracter"+t.toString()]=c.a.createElement(x,{type:"subtracter",index:t,dead:!1}),this.setState({squares:e})}},{key:"initializeBlocks",value:function(){var e=this;document.getElementById("balls").innerHTML="",this.setState({names:["pablo"],lives:[100],x_locations:[0],y_locations:[-document.getElementById("canvas").clientHeight/2]},function(){var t={switch:100,adder:100,subtracter:100,blanker:2,back_passer:2,skipper:2,pauser:2},a=document.getElementById("canvasElements").children,s={};Object.assign(s,e.state.squares);for(var n=e.state.names,i=e.state.lives,r=e.state.x_locations,o=e.state.y_locations,l=0;l<a.length;l++)if("0"!==window.getComputedStyle(a[l]).opacity){var c=a[l].id.replace(/[0-9]/g,""),u=window.getComputedStyle(a[l]).transform.split(", "),p=parseInt(u[4]),h=parseInt(u[5].replace(/\(|\)/g,""));n.push(a[l].id),i.push(t[c]),r.push(Number.parseInt(p)),o.push(Number.parseInt(h))}else delete s[a[l].id];e.setState({filtered_squares:s,names:n,lives:i,x_locations:r,y_locations:o,balls:[]}),console.log(s,n,i,r,o)})}},{key:"getDestinationBlock",value:function(e,t,a,s,n){var i=this.state.names.indexOf(e),r=Number.POSITIVE_INFINITY,o=i,l=e.replace(/[0-9]/g,""),c=-30,u=-150;"switch"===l?t[i]%2===0?(c=-90,u=-179.99):(c=-1e-4,u=-90):"back_passer"===l&&(u=30,c=150);for(var p=r,h=(document.getElementById("canvas"),0);h<this.state.names.length;h++)if(!(h===i||this.state.x_locations[h]>s[1]||this.state.x_locations[h]<s[0]||this.state.y_locations[h]>n[1]||this.state.y_locations[h]<n[0])&&("back_passer"!==l||a.includes(h))){var d=this.state.x_locations[h]-this.state.x_locations[i],m=-this.state.y_locations[h]+this.state.y_locations[i],g=Math.sqrt(Math.pow(d,2)+Math.pow(m,2)),y=180*Math.atan2(m,d)/Math.PI;t[h]>0&&y>u&&y<c&&g<p&&(o=h,p=g)}return o}},{key:"generateCoordinateEnergyTimingForPath",value:function(e,t,a,s,n,i){for(var r=[0],o=.6*document.getElementById("canvas").clientHeight,l=[-document.getElementById("canvas").clientHeight/2],u=[a],p=a,d=[0],m=1,g=!1,y=this.state.balls,E=0;E<e.length;E++)if(g)g=!1,r.push(this.state.x_locations[e[E]]+80),l.push(this.state.y_locations[e[E]]+o),d.push(m),u.push(p),m=parseInt(m+.5);else{if(d.push(m),r.push(this.state.x_locations[e[E]]+16),l.push(this.state.y_locations[e[E]]+o),"skipper"===this.state.names[e[E]].slice(0,7))g=!0,m+=.5;else{if("pauser"===this.state.names[e[E]].slice(0,6)){m++,d.push(m),r.push(this.state.x_locations[e[E]]+16),l.push(this.state.y_locations[e[E]]+o),u.push(p),m++,d.push(m),r.push(this.state.x_locations[e[E]]+16),l.push(this.state.y_locations[e[E]]+o),u.push(p),m++;continue}m++}"adder"===this.state.names[e[E]].slice(0,5)?(p+=.5,u.push(p)):"subtracter"===this.state.names[e[E]].slice(0,10)?(p-=.5,u.push(p)):u.push(p)}var v=this.state.squares;console.log(this.state.names,t,this.state.squares);for(var f=1;f<t.length;f++)if(0===t[f]){var k=this.state.names[f];v[k]=c.a.createElement(x,{type:k.replace(/[0-9]/g,""),dead:!0,index:parseInt(k.slice(k.length-1)),delay:s+d.slice(-1)[0]+1})}return u.push(p),d.push(m),y.push(c.a.createElement(h.a.div,{initial:{x:r[0],y:l[0],energies:u[0]},class:"circle",key:this.state+Math.random().toString(),animate:{originX:.5,originY:.5,scale:u.concat([p]),x:r.concat([n]),y:l.concat([i]).map(function(e){return parseInt(e)}),transition:{times:d.concat([m+1]).map(function(e){return e/(m+1)}),duration:m+1,delay:s}}})),this.setState({balls:y,squares:v}),console.log(r,l,d,u),[parseInt(a+(u.slice(-1)[0]-a)/.5),d.slice(-1)[0]-2]}},{key:"setLevel",value:function(e){console.log("level set."),1===e?this.setState({squares:{},inputEnergies:[1,1,1],targetTimeSpends:[2,1,2],targetExitEnergies:[1,2,1]}):"Skipper Demo"===e?this.setState({squares:{},inputEnergies:[1,1,1,2],targetTimeSpends:[2,2,2,2],targetExitEnergies:[2,2,2,1]}):"Pauser Demo"===e?this.setState({squares:{},inputEnergies:[1,1],targetTimeSpends:[3,3],targetExitEnergies:[2,2]}):"BackPasser Demo"===e?this.setState({squares:{},inputEnergies:[1,1],targetTimeSpends:[5,1],targetExitEnergies:[4,2]}):2===e?this.setState({squares:{},inputEnergies:[1,1,1],targetTimeSpends:[2,2,1],targetExitEnergies:[2,2,2]}):3===e?this.setState({squares:{},inputEnergies:[1,2,1,2],targetTimeSpends:[2,2,4,4],targetExitEnergies:[2,1,2,1]}):4===e?this.setState({squares:{},inputEnergies:[1,1,1],targetTimeSpends:[6,1,1],targetExitEnergies:[2,1,1]}):5===e&&this.setState({squares:{},inputEnergies:[2,1,2,1],targetTimeSpends:[4,3,4,5],targetExitEnergies:[1,2,1,2]})}},{key:"play",value:function(){var e=this,t=this.state.inputEnergies,a=this.state.targetTimeSpends,s=this.state.targetExitEnergies;console.log("for play:",t,a,a);var n=[],i=[];this.setState(this.initializeBlocks(),function(){for(var r=[],o=[],l=[],c=e.state.lives,u=0;u<t.length;u++){var p=document.getElementById("canvas");n.push(Math.random()*p.clientWidth/2),i.push(1.3*p.clientHeight),r.push([]),o.push([]);for(var h=[-p.clientWidth/2,p.clientWidth/2],d=[-p.clientHeight/2,p.clientHeight/2],g=0,E=e.getDestinationBlock("pablo",c,r[u],h,d),f=[];;){console.log("prior viewport",h,d,e.state.names[E]),"switch"===e.state.names[E].slice(0,6)?(f=c[E]%2===0?[-p.clientWidth/2,e.state.x_locations[E]]:[e.state.x_locations[E],p.clientWidth/2],console.log(h,f),h=m()([h,f]),d=[e.state.y_locations[E],p.clientHeight/2],g=e.getDestinationBlock(e.state.names[E],c,r[u],h,d)):"back_passer"===e.state.names[E].slice(0,11)?g=e.getDestinationBlock(e.state.names[E],c,r[u],[-p.clientWidth/2,p.clientWidth/2],[.9*-p.clientHeight,e.state.y_locations[E]]):(console.log(h),d=[e.state.y_locations[E],p.clientHeight/2],g=e.getDestinationBlock(e.state.names[E],c,r[u],h,d)),c[E]-=1,console.log(e.state.names[E],c,h,d);try{if("skipper"===e.state.names[r[u][r[u].length-1]].slice(0,7)&&"switch"!==e.state.names[E].replace(/[0-9]/g,"")){c[E]={switch:100,adder:100,subtracter:100,blanker:2,back_passer:2,skipper:2,pauser:2}[e.state.names[E].replace(/[0-9]/g,"")]}}catch(I){console.log("duh.")}if(r[u].push(E),o[u].push(e.state.names[E]),g===E)break;E=g,console.log("posterior viewport",h,d)}l.push(c),console.log(o),console.log("run complete")}for(var k=[],b=0;b<t.length;b++){for(var S=0,x=0;x<b;x++)S+=r[x].length;k.push(e.generateCoordinateEnergyTimingForPath(r[b],l[b],t[b],S+3,n[b],i[b]))}var _=k.map(function(e){return e[1]}),w=k.map(function(e){return e[0]});if(console.log(w,JSON.stringify(s),_,JSON.stringify(a)),console.log(e.state.balls),JSON.stringify(w)===JSON.stringify(s)&&JSON.stringify(_)===JSON.stringify(a)){console.log("victory"),new Audio(y.a).play()}else{console.log("defeat");var q=new Audio(v.a);q.crossOrigin="Anonymous",q.play(),q.muted=!1,window.addEventListener("click",function(){return q.play()})}})}},{key:"render",value:function(){var e=this;return c.a.createElement(k.a,{fluid:!0},c.a.createElement(b.a,null,c.a.createElement(S.a,null,c.a.createElement(b.a,null,c.a.createElement("div",null,c.a.createElement("button",{style:{marginTop:"20px"},class:"button playButton",onClick:function(){return e.play()}}," "))),c.a.createElement(b.a,null,c.a.createElement("div",{style:{marginTop:"40px",marginLeft:"-100px"}},c.a.createElement(f.a,{className:"d-inline mx-2"},c.a.createElement(f.a.Toggle,{id:"dropdown-autoclose-true"},"Level Selection"),c.a.createElement(f.a.Menu,null,c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel("Pauser Demo")}},"Pauser Demo"),c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel("BackPasser Demo")}},"BackPasser Demo"),c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel("Skipper Demo")}},"Skipper Demo"),c.a.createElement(f.a.Divider,null),c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel(1)}},"Level 1"),c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel(2)}},"Level 2"),c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel(3)}},"Level 3"),c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel(4)}},"Level 4"),c.a.createElement(f.a.Item,{href:"#",onClick:function(){return e.setLevel(5)}},"Level 5"))))),c.a.createElement(b.a,{style:{marginTop:"40px"}},c.a.createElement("h3",null,"Input Energies: ".concat(this.state.inputEnergies))),c.a.createElement(b.a,{style:{marginTop:"40px"}},c.a.createElement("h3",null,"Time Spends: ".concat(this.state.targetTimeSpends))),c.a.createElement(b.a,{style:{marginTop:"40px"}},c.a.createElement("h3",null,"Exit Energies: ".concat(this.state.targetExitEnergies)))),c.a.createElement(S.a,null,c.a.createElement("div",{class:"container"},c.a.createElement("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",integrity:"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3",crossorigin:"anonymous"}),c.a.createElement("button",{class:"button switch switchLocation",onClick:function(){return e.addSwitch()}}," "),c.a.createElement("button",{class:"button blanker blankerLocation",onClick:function(){return e.addBlanker()}}," "),c.a.createElement("button",{class:"button pauser pauserLocation",onClick:function(){return e.addPauser()}}," "),c.a.createElement("button",{class:"button skipper skipperLocation",onClick:function(){return e.addSkipper()}}," "),c.a.createElement("button",{class:"button back_passer back_passerLocation",onClick:function(){return e.addBacker()}}," "),c.a.createElement("button",{class:"button adder adderLocation",onClick:function(){return e.addPlus()}}," + "),c.a.createElement("button",{class:"button subtracter subtracterLocation",onClick:function(){return e.addMinus()}}," - "),c.a.createElement("canvas",{id:"canvas",class:"canvas",style:{backgroundColor:"rgb(150, 150, 150, 0.16)"}}),c.a.createElement("div",{id:"canvasElements"},Object.values(this.state.squares)),c.a.createElement("div",{id:"balls"},this.state.balls)))))}}]),t}(c.a.Component);p.a.render(c.a.createElement(_,null),document.getElementById("root"))},42:function(e,t,a){}},[[33,2,1]]]);
//# sourceMappingURL=main.70959934.chunk.js.map